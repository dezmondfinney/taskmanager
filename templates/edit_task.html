<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-axU-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Task</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto mt-10">
        <h1 class="text-3xl font-bold mb-5">Edit Task</h1>
        <form hx-post="/update/{{ task['uuid'] }}" hx-target="body" hx-swap="outerHTML" class="bg-white p-5 rounded shadow-md">
            <div class="mb-4">
                <label for="description" class="block text-gray-700 text-sm font-bold mb-2">Description</label>
                <input type="text" id="description" name="description" value="{{ task['description'] }}" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
            </div>
            <div class="mb-4">
                <label for="due" class="block text-gray-700 text-sm font-bold mb-2">Due Date</label>
                <input type="datetime-local" id="due" name="due" value="{{ task['due'] | format_datetime if task['due'] else '' }}" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
            </div>
            <div class="mb-4">
                <label for="scheduled" class="block text-gray-700 text-sm font-bold mb-2">Scheduled Date</label>
                <input type="datetime-local" id="scheduled" name="scheduled" value="{{ task['scheduled'] | format_datetime if task['scheduled'] else '' }}" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
            </div>
            <div class="mb-4">
                <label for="project" class="block text-gray-700 text-sm font-bold mb-2">Project</label>
                <input type="text" id="project" name="project" value="{{ task['project'] if task['project'] else '' }}" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
            </div>
            <div class="mb-4">
                <label for="tags" class="block text-gray-700 text-sm font-bold mb-2">Tags</label>
                <input type="text" id="tags" name="tags" value="{{ task['tags'] | join(', ') if task['tags'] else '' }}" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
            </div>
            <div class="mb-4">
                <label for="notes" class="block text-gray-700 text-sm font-bold mb-2">Notes</label>
                <textarea id="notes" name="notes" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">{{ task.annotations | map(attribute='description') | join('\n') if task.annotations else '' }}</textarea>
            </div>
            <div class="flex items-center justify-between">
                <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                    Update Task
                </button>
                <a href="/" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</body>
</html>